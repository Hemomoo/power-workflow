!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CustomExport=e():t.CustomExport=e()}(this,(()=>(()=>{var t=[function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToolItem=e.ToolGroup=e.RegisterBehavior=e.BaseNode=e.Workflow=void 0;var r=n(1);Object.defineProperty(e,"Workflow",{enumerable:!0,get:function(){return o(r).default}});var i=o(n(40)),a=n(3);Object.defineProperty(e,"BaseNode",{enumerable:!0,get:function(){return o(a).default}});var s=n(28);Object.defineProperty(e,"RegisterBehavior",{enumerable:!0,get:function(){return o(s).default}});var u=n(69);Object.defineProperty(e,"ToolGroup",{enumerable:!0,get:function(){return u.ToolGroup}}),Object.defineProperty(e,"ToolItem",{enumerable:!0,get:function(){return u.ToolItem}}),e.default=i.default},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},s=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},u=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=a(n(2)),d=c(n(3)),f=c(n(10)),h=c(n(11)),p=c(n(12)),g=c(n(18)),y=c(n(19)),m=c(n(21)),x=c(n(22)),v=c(n(23)),w=c(n(26)),_=n(38),b=n(39),S=(new l.default.Grid({}),function(){function t(t){var e=t.container,n=t.width,r=void 0===n?window.innerWidth:n,i=t.height,a=void 0===i?window.innerHeight:i,u=t.plugins,c=void 0===u?[]:u,d=t.mode,f=void 0===d?"view":d,h=t.initEdges,p=void 0===h?[]:h,g=t.initNodes,y=void 0===g?[]:g,m=t.registerNodes,x=void 0===m?[]:m,w=t.edgeCallback,S=t.layout,O=t.registerNodeList,P=t.animate,j=void 0!==P&&P,E=t.registerEdgeList,C=void 0===E?[]:E,M=t.registerBehaviors,N=void 0===M?[]:M,B=t.diffHeight,k=void 0===B?0:B,A=t.diffWidth,D=void 0===A?0:A,I=t.treeGroup,T=void 0!==I&&I,z=t.layoutParams,Y=void 0===z?{}:z,X=t.defaultNode,L=void 0===X?{}:X,F=t.defaultEdge,W=void 0===F?{}:F,R=t.modes,G=void 0===R?{}:R,H=this;this.treeGroup=!1,this.animate=!1,this.registerEdgeList=[],this.registerBehaviors=[],this.diffHeight=0,this.diffWidth=0,this.layoutParams={},this.util=new b.FlowUtil,this.registerNodeByFront=function(){H.registerNodeList.forEach((function(t){var e=t.nodeDesc;H.G6.registerNode(t.nodeName,{drawKeyShape:function(t,n){var o=this,r=null;return e.forEach((function(e,i){0===i?r=o.reloadDrawKeyShape(t,n,e):o.reloadDrawKeyShape(t,n,e)})),r},reloadDrawKeyShape:function(t,e,n){var r=n.type,i=n.name,a=s(n,["type","name"]),u={};return a.mainShape&&(u={width:this.size.width,height:this.size.height}),a=o(o({},a),u),e.addShape(r,{attrs:a,name:i})}},"simple-node")}))},this.reloadDrawKeyShape=function(t,e,n){var o=n.type,r=n.name,i=s(n,["type","name"]);return e.addShape(o,{attrs:i,name:r})},this.edgeEndCallback=function(t,e){return!H.edgeCallback||H.edgeCallback(t,e)},this.container=e,this.checkProps()&&(this.width=r,this.height=a,this.plugins=c,this.mode=f,this.initEdges=p,this.initNodes=y,this.G6=l.default,this.registerNodes=x,this.edgeCallback=w,this.layout=S?o(o({},_.layoutSetting[S]),Y):null,this.registerNodeList=O||[],this.animate=j,this.registerEdgeList=C,this.registerBehaviors=N,this.diffWidth=D,this.diffHeight=k,this.treeGroup=T,new v.default(l.default),this.initRegister(),this.init(L,W,G),(this.diffHeight||this.diffWidth)&&window.addEventListener("resize",this.util.debounce((function(){return H.autoSize}),50)))}return t.prototype.init=function(t,e,n){var r=this;if(this.treeGroup){this.graph=new l.TreeGraph({container:this.container,width:this.width,height:this.height,enabledStack:!0,plugins:u([],this.plugins,!0),modes:this.initMode(),layout:{type:"indented",direction:"LR",dropCap:!1,indent:300,getHeight:function(){return 60}},animate:this.animate,defaultNode:{type:"tree-node"},defaultEdge:{type:"cover-cricle"}});var i=function(t){var e=t.target.get("modelId"),n=r.graph.findById(e),o=n.getModel();o.collapsed=!o.collapsed,r.graph.layout(),r.graph.setItemState(n,"collapse",o.collapsed)};this.graph.on("collapse-text:click",(function(t){i(t)})),this.graph.on("collapse-back:click",(function(t){i(t)}))}else this.graph=new l.Graph({container:this.container,width:this.width,height:this.height,enabledStack:!0,plugins:u([],this.plugins,!0),modes:this.initMode(n),layout:this.layout,animate:this.animate,defaultNode:o({type:"flow-node"},t),defaultEdge:o({type:"cvte-polyline"},e)});this.mode&&this.graph.setMode(this.mode),this.graph.set("edgeEndCallback",this.edgeEndCallback),document.addEventListener("click",(function(t){"CANVAS"!==t.target.nodeName&&r.graph.set("noKeyDown",!0)})),this.initData()},t.prototype.changeMode=function(){},t.prototype.getWorkflowData=function(){},t.prototype.onSelectedItem=function(){},t.prototype.addNode=function(){},t.prototype.addEdge=function(){},t.prototype.checkProps=function(){return!!this.container||(new Error("container is required!"),!1)},t.prototype.initMode=function(t){return void 0===t&&(t={}),this.treeGroup,o({default:["drag-canvas",{type:"zoom-canvas",sensitivity:1}],edit:["drag-canvas","cover-hover-node","cover-hover-anchor","cover-drag-node","cover-drag-anchor","cover-select-node","cover-hover-edge","cover-delete-item","cover-add-node","cover-align-node"],view:["drag-canvas","cover-select-node"]},t)},t.prototype.initData=function(){var t=this,e={nodes:this.initNodes,edges:this.initEdges};this.graph.data(e),this.graph.render(),this.layout&&this.animate&&(console.log("我是la"),setTimeout((function(){t.graph.layout()}),200))},t.prototype.initRegister=function(){var t=this;u(u(u([],p.default,!0),[d.default,f.default],!1),this.registerNodes,!0).forEach((function(e){new e(t.G6)})),u(u([],w.default,!0),this.registerBehaviors,!0).forEach((function(e){new e(t.G6)})),[y.default].forEach((function(e){new e(t.G6)})),this.registerSideEdge(),(0,m.default)(l.default),(0,x.default)(l.default),(0,h.default)(l.default),(0,g.default)(l.default)},t.prototype.autoSize=function(){var t=window.innerWidth-this.diffWidth,e=window.innerHeight-this.diffHeight;this.changeSize(t,e)},t.prototype.setData=function(t){this.graph.data(t),this.graph.render()},t.prototype.setMode=function(t){this.graph.setMode(t)},t.prototype.changeSize=function(t,e){this.graph.changeSize(t,e)},t.prototype.on=function(t,e){this.graph.on(t,e)},t.prototype.fitView=function(t){void 0===t&&(t=20),this.graph.fitView(t)},t.prototype.fitCenter=function(){this.graph.fitCenter()},t.prototype.registerSideEdge=function(){var t=this;this.registerEdgeList.forEach((function(e){var n=e.name,o=e.extended,r=e.register;o?t.G6.registerEdge(n,r,o):t.G6.registerEdge(n,r)}))},t}());e.default=S},t=>{"use strict";t.exports=require("@antv/g6")},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(4),c=s(n(6)),l=s(n(7)),d={hoverNode:function(t,e){var n=t.getContainer();e?n.showAnchor():n.clearAnchor()},selectNode:function(t,e){var n=t.getContainer().getChildByIndex(0);e?n.attr("opacity",1):n.attr("opacity",.6)},visibleNode:function(t,e){t.get("group");var n=t.getModel();if("hide"===e)var o=n.startPos,r=n.endPos,i=Math.abs(r.x-o.x),a=Math.abs(r.Y-o.Y),s=.02*i,u=.02*a,c=n.startPos.x,l=n.startPos.x,d=setInterval((function(){c<r.x&&clearInterval(d),t.update({x:c-=s,y:l-=u})}),20)}},f=function(t){function e(e,n){void 0===n&&(n=!1);var o=t.call(this,e)||this;return o.name="base-node",o.size={width:180,height:70},o.canvas=null,n||o.register(),o}return r(e,t),e.prototype.draw=function(t,e,n){return this.size=this.computeNodeSize(t),this.drawKeyShape(t,e)},e.prototype.afterDraw=function(t,e,n){},e.prototype.updateShape=function(t,e){var n=e.index,o=void 0===n?0:n,r=a(e,["index"]);t.getChildByIndex(o).attr(r)},e.prototype.getTextWidth=function(t){this.canvas=this.canvas||document.createElement("canvas");var e=this.canvas.getContext("2d");return e.font="10px",e.measureText(t).width-2*t.length},e.prototype.getTextWidth1=function(t,e){var n=document.createElement("span");n.style.fontSize=t;var o={};return o.width=n.offsetWidth,o.height=n.offsetWidth,n.style.visibility="hidden",document.body.appendChild(n),void 0!==n.textContent?n.textContent=e:n.innerText=e,o=n.offsetWidth-o.width,n.parentNode.removeChild(n),o-1.5*e.length},e.prototype.getTextWidth2=function(t,e){var n=t;return this.calcStrLen(e)*n/2},e.prototype.calcStrLen=function(t){for(var e=0,n=0;n<t.length;n++)t.charCodeAt(n)>0&&t.charCodeAt(n)<128?e=.2+ ++e:e+=2;return e},e.prototype.withByContain=function(t,e){return 2*t/e},e.prototype.textWidthToEllipsis=function(t){for(var e=t.text,n=t.threshold,o=void 0===n?4:n,r=t.width,i=void 0===r?this.size.width:r,a=t.fontSize,s=void 0===a?12:a,u=this.withByContain(i,s)-o,c="",l=0,d=0;d<e.length;d++){if(e.charCodeAt(d)>0&&e.charCodeAt(d)<128?l++:l+=2,l>u){c+="...";break}c+=e[d]}return c},e.prototype.drawKeyShape=function(t,e){var n=this.size.width,o=this.size.height,r=t.style,a=void 0===r?{}:r,s=i(i(i({},c.default.base.origin),{width:n,height:o}),a),u=e.addShape("rect",{attrs:s,name:"base-node",className:"base-node"});return this.initAnchor(e),u},e.prototype.initAnchor=function(t,e){var n=this;void 0===e&&(e={}),t.anchorShapes=[],t.showAnchor=function(){n.drawAnchor(t,e)},t.clearAnchor=function(){n.clearAnchor(t)}},e.prototype.drawAnchor=function(t,e){void 0===e&&(e={});var n=t.get("children")[0].getBBox();this.getAnchorPoints(e).forEach((function(e,o){var r=t.addGroup();new l.default({group:r,index:o,model:{style:{x:n.minX+n.width*e[0],y:n.minY+n.height*e[1]}}}),t.anchorShapes.push(r)}))},e.prototype.clearAnchor=function(t){t.anchorShapes&&t.anchorShapes.forEach((function(t){return t.remove()})),t.anchorShapes=[]},e.prototype.computeNodeSize=function(t){var e=t.size&&Array.isArray(t.size)?t.size:[180,70];return{width:e[0]?e[0]:180,height:e[1]?e[1]:70}},e.prototype.getAnchorPoints=function(t){return[[.5,0],[1,.5],[.5,1],[0,.5]]},e.prototype.setState=function(t,e,n){d[t]&&d[t].call(this,n,e)},e}(u.RegisterNode);e.default=f},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RegisterNode=void 0;var a=function(t){function e(e){var n=t.call(this,e)||this;return n.name="",n.extendedName="",n}return r(e,t),e.prototype.register=function(){var t=this;this.G6.registerNode(this.name,{draw:function(e,n){return t.draw.call(t,e,n,this)},afterDraw:function(e,n){return t.afterDraw.call(t,e,n,this)},update:function(e,n){t.update.call(t,e,n,this)},afterUpdate:function(e,n){t.afterUpdate.call(t,e,n,this)},setState:function(e,n,o){t.setState.call(t,e,n,o,this)},getAnchorPoints:function(e){return t.getAnchorPoints.call(t,e,this)},drawAnchor:function(){return t.drawAnchor&&t.drawAnchor.apply(t,arguments)},test:function(){}},this.extendedName)},e.prototype.draw=function(t,e,n){return e.addShape("rect",{attrs:{width:170,height:70,fill:"#C7E4FF",stroke:"#61B3FF",opacity:.6,lineWidth:2,radius:8,cursor:"move"},name:"power-rect-node",className:"base-node"})},e.prototype.update=function(t,e,n){},e.prototype.afterUpdate=function(t,e,n){},e.prototype.afterDraw=function(t,e,n){},e.prototype.setState=function(t,e,n,o){},e.prototype.drawAnchor=function(t){},e.prototype.getAnchorPoints=function(t,e){return[[.5,0],[1,.5],[.5,1],[0,.5]]},e}(i(n(5)).default);e.RegisterNode=a},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.extendedName=null,this.G6=t}return t.prototype.register=function(t){this.G6[this.registerType](this.name,{},this.extendedName)},t}();e.default=n},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={default:{cursor:"move"},base:{origin:{fill:"#C7E4FF",stroke:"#61B3FF",opacity:.6,lineWidth:2,radius:8,cursor:"move"}},leftText:{origin:{fill:"#014445",fontSize:12,x:12,y:12,textBaseline:"middle"}},titleText:{origin:{fontSize:14,stroke:"#2E4553",textBaseline:"middle",textAlign:"center",cursor:"move"}},statusShape:{r:3,text:{textBaseline:"middle",textAlign:"center",fontSize:12},origin:{fill:"#00BB2F"},success:{fill:"#00BB2F"},waiting:{fill:"#FE9201"},underway:{fill:"#1990FF"},faild:{fill:"#CA0101"},stop:{fill:"#72007B"}},rightText:{origin:{fill:"#014445",fontSize:12,textBaseline:"middle",textAlign:"right"}}}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(8)),u=n(9),c=function(t){function e(e){var n=t.call(this,(0,u.deepMix)(e,{type:"anchor",isActived:!0,model:{type:"anchor",style:{r:4,fill:"#fff",shadowBlur:4,shadowColor:"#666",cursor:"crosshair"}}}))||this;return n.enableCapture(!0),n.isAnchor=!0,n.toFront(),n}return r(e,t),e.prototype.showHotpot=function(){this.hotpot=this.getContainer().addShape("marker",{attrs:i(i({},this.get("model").style),{r:12,fill:"#1890FF",fillOpacity:.25}),name:"hotpot-shape",draggable:!0}),this.hotpot.toFront()},e.prototype.setHotspotActived=function(t){this.hotpot&&t&&this.hotpot.attr?this.hotpot.attr&&this.hotpot.attr({r:14,fill:"#0084FF"}):this.hotpot.attr&&this.hotpot.attr({r:12,fill:"#1890FF"})},e}(s.default);e.default=c},t=>{"use strict";t.exports=require("@antv/g6-core/lib/item/item")},t=>{"use strict";t.exports=require("@antv/util")},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(3)),c=s(n(6)),l=function(t){function e(e){var n=t.call(this,e,!0)||this;return n.name="flow-node",n.register(),n}return r(e,t),e.prototype.draw=function(t,e,n){this.size=this.computeNodeSize(t);var o=this.drawKeyShape(t,e);return this.drawTitleText(t,e),this.drawIcon(t.icon1,e,6),this.drawIcon(t.icon2,e,24),this.drawRightText(t,e),this.drawStatusShape(t,e),this.addShapeApi(t,e),o},e.prototype.afterDraw=function(t,e){3===t.taskStatusValue&&this.drawStatusAnimateShape(t,e),t.lineDashAnimate&&this.drawBorderAnimateShape(t,e)},e.prototype.addShapeApi=function(t,e){var n=this,o=function(t){var n=t.index,o=a(t,["index"]);e.getChildByIndex(n).attr(o)},r=this.size;e.updateKeyShape=function(t){return o(i({index:0},t)),e},e.updateText=function(t){return o(i({index:2},t)),e},e.updateRightText=function(t){return o(i({index:5},t)),e},e.updateIcon=function(t){o(i({index:3},t))},e.textWidthToEllipsis=function(t){var e=t.text,o=t.threshold,i=void 0===o?4:o,a=t.width,s=void 0===a?r.width:a,u=t.fontSize,c=void 0===u?14:u;return n.textWidthToEllipsis({text:e,threshold:i,width:s,fontSize:c})}},e.prototype.drawLeftText=function(t,e){var n=t.leftText,o=t.leftTextStyle,r=void 0===o?{}:o;if(n){var a=i(i(i({},c.default.leftText.origin),{text:n}),r);return e.addShape("text",{attrs:a,name:"power-left-text",className:"node-left-text"})}},e.prototype.drawRightText=function(t,e){var n=t.rightText,o=t.rightTextStyle,r=void 0===o?{}:o,a=this.size,s=a.width,u=a.height,l=i(i(i({},c.default.rightText.origin),{text:n||"",x:s-12,y:u-12}),r);e.addShape("text",{attrs:l,name:"power-right-text",className:"right-text"})},e.prototype.drawTitleText=function(t,e){var n=t.titleText,o=t.titleTextStyle,r=void 0===o?{}:o;if(n){var a=this.size.width,s=this.size.height;n=this.textWidthToEllipsis({text:n,fontSize:14,width:this.size.width});var u=i(i(i({},c.default.titleText.origin),{text:n,x:a/2,y:s/2}),r);return e.addShape("text",{attrs:u,name:"power-title-text",className:"node-title-text",capture:!0,draggable:!0})}},e.prototype.getStatusStyle=function(t){var e=t.taskStatusValue,n={3:c.default.statusShape.underway,1:c.default.statusShape.waiting,5:c.default.statusShape.success,4:c.default.statusShape.faild,10:c.default.statusShape.stop};return(!e||[3,4,5,10].indexOf(e)<0)&&(e=1),n[e]},e.prototype.drawStatusShape=function(t,e){var n=this.size.width,o=t.taskStatus;if(o){var r=this.getStatusStyle(t);this.drawStatusText(t,e);var a=i(i({},r),{r:c.default.statusShape.r,x:n-this.getTextWidth2(12,o)-10,y:12});e.addShape("circle",{attrs:a,name:"power-status-text",className:"status-text",capture:!0,draggable:!0})}},e.prototype.drawStatusText=function(t,e){var n=this.size.width,o=t.taskStatus,r=t.taskStatusStyle,a=void 0===r?{}:r,s=this.getStatusStyle(t),u=i(i(i(i({},s),c.default.statusShape.text),{text:o,x:n-this.getTextWidth2(12,o)/2-4,y:12}),a);e.addShape("text",{attrs:u,name:"power-status-node",className:"status-node",capture:!0,draggable:!0})},e.prototype.drawIcon=function(t,e,n){void 0===n&&(n=6);var o=this.size.height;e.addShape("image",{attrs:{img:t,x:n,y:o-20,width:16,height:16,shadowColor:"#E6E6E6",shadowBlur:4},name:"image-shape"})},e.prototype.drawStatusAnimateShape=function(t,e){this.size.width;var n=c.default.statusShape.r,o=this.createStatusAnimateShape(t,e,"back1-shaoe",-3,.6),r=this.createStatusAnimateShape(t,e,"back1-shaoe",-2,.6),i=this.createStatusAnimateShape(t,e,"back1-shaoe",-1,.6);this.createStatusAnimate(n,o,0),this.createStatusAnimate(n,r,1e3),this.createStatusAnimate(n,i,2e3)},e.prototype.drawBorderAnimateShape=function(t,e){var n=e.getChildByIndex(0),o=0,r=[6,2,1,2];n.animate((function(){return++o>9&&(o=0),{lineDash:r,lineDashOffset:-o}}),{repeat:!0,duration:4e3})},e.prototype.createStatusAnimate=function(t,e,n){e.animate({r:t+5,opacity:.1},{duration:3e3,easing:"easeCubic",delay:n,repeat:!0})},e.prototype.createStatusAnimateShape=function(t,e,n,o,r){var i=this.size.width-this.getTextWidth2(12,t.taskStatus)-10;return e.addShape("circle",{zIndex:o,attrs:{x:i,y:12,r:c.default.statusShape.r,fill:c.default.statusShape.underway.fill,opacity:r},name:n})},e}(u.default);e.default=l},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(7)),a=r(n(6)),s={hoverNode:function(t,e){var n=t.getContainer();e?n.showAnchor():n.clearAnchor()},selectNode:function(t,e){var n=t.getContainer().getChildByIndex(0);e?n.attr("opacity",1):n.attr("opacity",.6)},visibleNode:function(t,e){t.get("group");var n=t.getModel();if("hide"===e)var o=n.startPos,r=n.endPos,i=Math.abs(r.x-o.x),a=Math.abs(r.Y-o.Y),s=.02*i,u=.02*a,c=n.startPos.x,l=n.startPos.x,d=setInterval((function(){c<r.x&&clearInterval(d),t.update({x:c-=s,y:l-=u})}),20)}};e.default=function(t){t.registerNode("simple-node",{draw:function(t,e,n){this.size=this.computeNodeSize(t);var o=this.drawKeyShape(t,e);return this.initAnchor(e),o},drawKeyShape:function(t,e){var n=this.size.width,r=this.size.height,i=t.style,s=void 0===i?{}:i,u=o(o(o({},a.default.base.origin),{fill:"#BB0552",width:n,height:r}),s);return e.addShape("rect",{attrs:u,name:"base-node",className:"base-node"})},initAnchor:function(t){var e=this;t.anchorShapes=[],t.showAnchor=function(){e.drawAnchor(t)},t.clearAnchor=function(){e.clearAnchor(t)}},clearAnchor:function(t){t.anchorShapes&&t.anchorShapes.forEach((function(t){return t.remove()})),t.anchorShapes=[]},drawAnchor:function(t){var e=t.get("children")[0].getBBox();this.getAnchorPoints().forEach((function(n,o){var r=t.addGroup();new i.default({group:r,index:o,model:{style:{x:e.minX+e.width*n[0],y:e.minY+e.height*n[1]}}}),t.anchorShapes.push(r)}))},computeNodeSize:function(t){var e=t.size&&Array.isArray(t.size)?t.size:[180,70];return{width:e[0]?e[0]:180,height:e[1]?e[1]:70}},getAnchorPoints:function(){return[[.5,0],[1,.5],[.5,1],[0,.5]]},setState:function(t,e,n){s[t]&&s[t].call(this,n,e)}})}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(13)),i=o(n(14)),a=o(n(15)),s=o(n(16)),u=o(n(17));e.default=[r.default,i.default,a.default,s.default,u.default]},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(3)),u=a(n(6)),c=function(t){function e(e){var n=t.call(this,e,!0)||this;return n.name="max-circle-node",n.register(),n}return r(e,t),e.prototype.drawKeyShape=function(t,e){this.size.width,this.size.height;var n=t.style,o=void 0===n?{}:n,r=t.r,a=void 0===r?20:r,s=i(i(i(i({},u.default.default),{fill:"#0577BB",stroke:"#028080"}),o),{x:a,y:a,r:a}),c=e.addShape("circle",{attrs:s,name:"max-circle-node",className:"max-circle-node"});return this.initAnchor(e),this.drawIcon(t,e),this.drawText(t,e),this.addShapeApi(t,e),c},e.prototype.addShapeApi=function(t,e){var n=this;e.updateKeyShape=function(t){return n.updateShape(e,i({index:0},t)),e},e.updateIcon=function(t){n.updateShape(e,i({index:1},t))},e.updateText=function(t){n.updateShape(e,i({index:2},t))}},e.prototype.drawIcon=function(t,e){var n=t.r,o=void 0===n?20:n;e.addShape("image",{attrs:i(i({},u.default.default),{img:t.icon,x:o-(t.iconWidth||20)/2,y:o-(t.iconHeight||20)/2,width:t.iconWidth||20,height:t.iconHeight||20}),name:"circle-image",capture:!0,draggable:!0})},e.prototype.drawText=function(t,e){var n=t.text,o=t.style,r=void 0===o?{}:o,a=t.r,s=void 0===a?20:a,u=r.textStyle,c=void 0===u?{}:u;e.addShape("text",{attrs:i({text:n||"",x:s,y:2*s+8,textAlign:"center",textBaseline:"middle",fill:"#666",fontSize:10},c)})},e}(s.default);e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(3)),u=a(n(6)),c=function(t){function e(e,n){void 0===n&&(n=!0);var o=t.call(this,e,!0)||this;return o.name="max-trigon-node",n&&o.register(),o}return r(e,t),e.prototype.drawKeyShape=function(t,e){this.size.width,this.size.height;var n=t.style,o=void 0===n?{}:n,r=o.sideLength,a=void 0===r?100:r,s=o.position,c=void 0===s?"top":s,l=.8*a,d=.5*a,f={right:[[0,0],[0,a],[l,d]],bottom:[[0,0],[a,0],[d,l]],top:[[d,0],[0,l],[a,l]],left:[[0,d],[l,0],[l,a]]},h=i(i(i({},u.default.default),{points:f[c],fill:"#0577BB",stroke:"#028080"}),o),p=e.addShape("polygon",{attrs:h,name:"max-trigon-node",className:"max-trigon-node"});return this.initAnchor(e,t),this.drawIcon(t,e),p},e.prototype.drawIcon=function(t,e){var n=t.style,o=n.sideLength,r=void 0===o?100:o,a=n.position,s=void 0===a?"top":a,c=t.iconWidth||20,l=t.iconHeight||20,d={top:{x:0,y:0},right:{x:-10,y:0},bottom:{x:0,y:-20},left:{x:0,y:0}}[s],f=r/2-c/2+d.x,h=r/2-l/2+d.y;e.addShape("image",{attrs:i(i({},u.default.default),{img:t.icon,x:f,y:h,width:c,height:l}),name:"circle-image",capture:!0,draggable:!0})},e.prototype.getAnchorPoints=function(t){var e=t.style,n=(e.sideLength,e.position),o=void 0===n?"top":n;return"top"===o||"bottom"===o?[[.5,0],[.75,.5],[.5,1],[.25,.5]]:[[.5,.25],[1,.5],[.5,.75],[0,.5]]},e}(s.default);e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(3)),u=a(n(6)),c=function(t){function e(e,n){void 0===n&&(n=!0);var o=t.call(this,e,!0)||this;return o.name="max-diamond-node",n&&o.register(),o}return r(e,t),e.prototype.drawKeyShape=function(t,e){var n=t.style,o=void 0===n?{}:n,r=t.sideLength,a=void 0===r?50:r,s=a/2,c=i(i(i({},u.default.default),{path:[["M",s,0],["L",0,s],["L",s,a],["L",a,s],["Z"]],fill:"#0577BB",stroke:"#028080"}),o),l=e.addShape("path",{attrs:c,name:"max-diamond-node",className:"max-diamond-node"});return this.initAnchor(e,t),this.drawIcon(t,e),this.drawText(t,e),this.addShapeApi(t,e),l},e.prototype.addShapeApi=function(t,e){var n=this;e.updateKeyShape=function(t){return n.updateShape(e,i({index:0},t)),e},e.updateIcon=function(t){n.updateShape(e,i({index:1},t))},e.updateText=function(t){n.updateShape(e,i({index:2},t))}},e.prototype.drawIcon=function(t,e){t.style.position;var n=t.sideLength,o=void 0===n?50:n,r=t.iconWidth||20,a=t.iconHeight||20,s=o/2-r/2,c=o/2-a/2;e.addShape("image",{attrs:i(i({},u.default.default),{img:t.icon,x:s,y:c,width:r,height:a}),name:"circle-image",capture:!0,draggable:!0})},e.prototype.drawText=function(t,e){var n=t.style,o=void 0===n?{}:n,r=t.sideLength,a=void 0===r?50:r,s=o.textStyle,u=void 0===s?{}:s;t.text&&e.addShape("text",{attrs:i({x:a/2,y:a+8,textAlign:"center",textBaseline:"middle",text:t.text,fill:"#666",fontSize:10},u),draggable:!0,name:"zhao"})},e}(s.default);e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(3)),u={B:"#5B8FF9",R:"#F46649",Y:"#EEBC20",G:"#5BD8A6",DI:"#A7A7A7"},c={hoverNode:function(t,e){var n=t.getContainer();e?n.showAnchor():n.clearAnchor()},selectNode:function(t,e){var n=t.getContainer().getChildByIndex(0);e?n.attr("opacity",1):n.attr("opacity",.6)},visibleNode:function(t,e){t.get("group");var n=t.getModel();if("hide"===e)var o=n.startPos,r=n.endPos,i=Math.abs(r.x-o.x),a=Math.abs(r.Y-o.Y),s=.02*i,u=.02*a,c=n.startPos.x,l=n.startPos.x,d=setInterval((function(){c<r.x&&clearInterval(d),t.update({x:c-=s,y:l-=u})}),20)},collapse:function(t,e){var n=t.getContainer().find((function(t){return"collapse-text"===t.get("name")}));n&&(e?n.attr({text:"+"}):n.attr({text:"-"}))}},l=function(t){function e(e){var n=t.call(this,e,!0)||this;return n.name="tree-node",n.extendedName="rect",n.register(),n}return r(e,t),e.prototype.draw=function(t,e,n){var o=t.name,r=void 0===o?"":o,a=t.variableName,s=t.variableValue,c=t.variableUp,l=t.label,d=t.collapsed,f=t.currency,h=t.status,p=t.rate,g=t.width,y=void 0===g?202:g,m=t.height,x={width:y,height:void 0===m?60:m,lineWidth:1,fontSize:12,fill:"#fff",radius:4,stroke:"#CED4D9",opacity:1},v=0,w=0,_={textAlign:"left",textBaseline:"bottom"},b=e.addShape("rect",{attrs:i({x:v,y:w},x)}),S=b.getBBox();e.addShape("text",{attrs:i({x:12+v,y:20+w,text:r.length>28?r.substr(0,28)+"...":r,fontSize:12,opacity:.85,fill:"#000",cursor:"pointer"},_),name:"name-shape"});var O=e.addShape("text",{attrs:i(i({},_),{x:12+v,y:S.maxY-12,text:l,fontSize:16,fill:"#000",opacity:.85})});e.addShape("text",{attrs:i(i({},_),{x:O.getBBox().maxX+5,y:S.maxY-12,text:f,fontSize:12,fill:"#000",opacity:.75})});var P=e.addShape("text",{attrs:i(i({},_),{x:S.maxX-8,y:S.maxY-12,text:"".concat((100*(s||0)).toFixed(2),"%"),fontSize:12,textAlign:"right",fill:u[h]})}),j=c?"triangle":"triangle-down",E=e.addShape("marker",{attrs:i(i({},_),{x:P.getBBox().minX-10,y:S.maxY-12-6,symbol:j,r:6,fill:u[h]})});e.addShape("text",{attrs:i(i({},_),{x:E.getBBox().minX-4,y:S.maxY-12,text:a,fontSize:12,textAlign:"right",fill:"#000",opacity:.45})});e.addShape("rect",{attrs:{x:v,y:S.maxY-4,width:x.width,height:4,radius:[0,0,x.radius,x.radius],fill:"#E0DFE3"}}),e.addShape("rect",{attrs:{x:v,y:S.maxY-4,width:p*S.width,height:4,radius:[0,0,0,x.radius],fill:u[h]}});return t.children&&t.children.length&&(e.addShape("rect",{attrs:{x:x.width+8,y:x.height/2-8,width:16,height:16,stroke:"rgba(0, 0, 0, 0.25)",cursor:"pointer",fill:"#fff"},name:"collapse-back",modelId:t.id}),e.addShape("text",{attrs:{x:x.width+16,y:x.height/2,textAlign:"center",textBaseline:"middle",text:d?"+":"-",fontSize:16,cursor:"pointer",fill:"rgba(0, 0, 0, 0.25)"},name:"collapse-text",modelId:t.id})),this.initAnchor(e),b},e.prototype.getAnchorPoints=function(){return[[0,.5],[1,.5]]},e.prototype.setState=function(t,e,n){c[t]&&c[t].call(this,n,e)},e}(s.default);e.default=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(3)),c=s(n(6)),l=function(t){function e(e){var n=t.call(this,e,!0)||this;return n.name="strategy-node",n.register(),n}return r(e,t),e.prototype.draw=function(t,e,n){this.size=this.computeNodeSize(t),console.log(">>>>>>>>>>",this.size);var o=this.drawKeyShape(t,e);return this.drawTitleText(t,e),this.drawIcon(t.icon1,e,6),this.drawIcon(t.icon2,e,this.size.width-24),this.drawStatusShape(t,e),this.addShapeApi(t,e),o},e.prototype.afterDraw=function(t,e){3===t.taskStatusValue&&this.drawStatusAnimateShape(t,e),t.lineDashAnimate&&this.drawBorderAnimateShape(t,e)},e.prototype.addShapeApi=function(t,e){var n=this,o=function(t){var n=t.index,o=a(t,["index"]);e.getChildByIndex(n).attr(o)},r=this.size;e.updateKeyShape=function(t){return o(i({index:0},t)),e},e.updateText=function(t){return console.log("props: ",t),o(i({index:1},t)),e},e.updateIcon=function(t){o(i({index:3},t))},e.textWidthToEllipsis=function(t){var e=t.text,o=t.threshold,i=void 0===o?4:o,a=t.width,s=void 0===a?r.width-40:a,u=t.fontSize,c=void 0===u?14:u;return n.textWidthToEllipsis({text:e,threshold:i,width:s,fontSize:c})}},e.prototype.drawLeftText=function(t,e){var n=t.leftText,o=t.leftTextStyle,r=void 0===o?{}:o;if(n){var a=i(i(i({},c.default.leftText.origin),{text:n}),r);return e.addShape("text",{attrs:a,name:"power-left-text",className:"node-left-text"})}},e.prototype.drawTitleText=function(t,e){var n=t.titleText,o=t.titleTextStyle,r=void 0===o?{}:o;if(n){var a=this.size.width,s=this.size.height;(n=this.textWidthToEllipsis({text:n,fontSize:14,width:this.size.width})).length>25&&(n=n.slice(0,24)+"...");var u=i(i(i({},c.default.titleText.origin),{text:n,x:a/2,y:s/2,fontWeight:100}),r);return e.addShape("text",{attrs:u,name:"power-title-text",className:"node-title-text",capture:!0,draggable:!0})}},e.prototype.getStatusStyle=function(t){var e=t.taskStatusValue,n={3:c.default.statusShape.underway,1:c.default.statusShape.waiting,5:c.default.statusShape.success,4:c.default.statusShape.faild,10:c.default.statusShape.stop};return(!e||[3,4,5,10].indexOf(e)<0)&&(e=1),n[e]},e.prototype.drawStatusShape=function(t,e){var n=this.size.width,o=t.taskStatus;if(o){var r=this.getStatusStyle(t);this.drawStatusText(t,e);var a=i(i({},r),{r:c.default.statusShape.r,x:n-this.getTextWidth2(12,o)-10,y:12});e.addShape("circle",{attrs:a,name:"power-status-text",className:"status-text",capture:!0,draggable:!0})}},e.prototype.drawStatusText=function(t,e){var n=this.size.width,o=t.taskStatus,r=t.taskStatusStyle,a=void 0===r?{}:r,s=this.getStatusStyle(t),u=i(i(i(i({},s),c.default.statusShape.text),{text:o,x:n-this.getTextWidth2(12,o)/2-4,y:12}),a);e.addShape("text",{attrs:u,name:"power-status-node",className:"status-node",capture:!0,draggable:!0})},e.prototype.drawIcon=function(t,e,n){void 0===n&&(n=6);var o=this.size.height;e.addShape("image",{attrs:{img:t,x:n,y:o/2-20,width:40,height:40,shadowColor:"#E6E6E6",shadowBlur:4},name:"image-shape"})},e.prototype.drawStatusAnimateShape=function(t,e){this.size.width;var n=c.default.statusShape.r,o=this.createStatusAnimateShape(t,e,"back1-shaoe",-3,.6),r=this.createStatusAnimateShape(t,e,"back1-shaoe",-2,.6),i=this.createStatusAnimateShape(t,e,"back1-shaoe",-1,.6);this.createStatusAnimate(n,o,0),this.createStatusAnimate(n,r,1e3),this.createStatusAnimate(n,i,2e3)},e.prototype.drawBorderAnimateShape=function(t,e){var n=e.getChildByIndex(0),o=0,r=[6,2,1,2];n.animate((function(){return++o>9&&(o=0),{lineDash:r,lineDashOffset:-o}}),{repeat:!0,duration:4e3})},e.prototype.createStatusAnimate=function(t,e,n){e.animate({r:t+5,opacity:.1},{duration:3e3,easing:"easeCubic",delay:n,repeat:!0})},e.prototype.createStatusAnimateShape=function(t,e,n,o,r){var i=this.size.width-this.getTextWidth2(12,t.taskStatus)-10;return e.addShape("circle",{zIndex:o,attrs:{x:i,y:12,r:c.default.statusShape.r,fill:c.default.statusShape.underway.fill,opacity:r},name:n})},e}(u.default);e.default=l},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6));e.default=function(t){t.registerNode("circle-test-node",{drawKeyShape:function(t,e){this.size.width,this.size.height;var n=t.style,r=void 0===n?{}:n,a=o(o(o({},i.default.base.origin),{fill:"#BB0552",r:50}),r);return e.addShape("circle",{attrs:a,name:"circle-test-node-1",className:"circle-test-node"})},getAnchorPoints:function(){return[[.5,0],[1,.5],[.5,1]]}},"simple-node")}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),a=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cvte-polyline1",n.extendedName="polyline",n.register(),n}return r(e,t),e.prototype.draw=function(t,e){this.group=e;t.startPoint,t.endPoint;return e.addShape("path",{className:"edge-shape",attrs:{stroke:"#164979",lineWidth:1,lineAppendWidth:8,path:this.computePath(t),endArrow:{path:"M 0,0 L 6,-2 Q 5 0,6 2 Z",lineDash:[0,0],fill:"#164979"}},name:"edge-shape"})},e.prototype.computePath=function(t){var e=t.startPoint,n=t.endPoint,o=this.getControlPoints(t),r=[e];return o&&(r=r.concat(o)),r.push(n),this.getPath(r)},e.prototype.getControlPoints=function(t){if(!t.sourceNode)return t.controlPoints;var e={sNode:t.sourceNode,tNode:t.targetNode,sPort:t.startPoint,tPort:t.endPoint,offset:15};return this.polylineFinding(e)},e.prototype.polylineFinding=function(t){var e=t.sNode,n=t.tNode,o=t.sPort,r=t.tPort,i=t.offset,a=e&&e.getBBox()?e.getBBox():this.getPointBBox(o),s=n&&n.getBBox()?n.getBBox():this.getPointBBox(r),u=this.getExpandedBBox(a,i),c=this.getExpandedBBox(s,i),l=this.getExpandedPort(u,o),d=this.getExpandedPort(c,r),f=this.getConnectablePoints(u,c,l,d);return f=this.filterConnectablePoints(f,u),f=this.filterConnectablePoints(f,c),this.AStar(f,l,d,u,c)},e.prototype.getPointBBox=function(t){return{centerX:t.x,centerY:t.y,minX:t.x,minY:t.y,maxX:t.x,maxY:t.y,height:0,width:0}},e.prototype.getExpandedBBox=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},e.prototype.getExpandedPort=function(t,e){return Math.abs(e.x-t.centerX)/t.width>Math.abs(e.y-t.centerY)/t.height?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},e.prototype.getConnectablePoints=function(t,e,n,o){var r=this,i=this.getBBoxFromVertexes(n,o),a=this.combineBBoxes(t,e),s=this.combineBBoxes(t,i),u=this.combineBBoxes(e,i),c=[];c=c.concat(this.vertexOfBBox(s),this.vertexOfBBox(u),this.vertexOfBBox(a));var l={x:a.centerX,y:a.centerY};return[a,s,u,i].forEach((function(t){c=c.concat(r.crossPointsByLineAndBBox(t,l))})),c.push({x:n.x,y:o.y}),c.push({x:o.x,y:n.y}),c},e.prototype.combineBBoxes=function(t,e){var n=Math.min(t.minX,e.minX),o=Math.min(t.minY,e.minY),r=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+r)/2,centerY:(o+i)/2,minX:n,minY:o,maxX:r,maxY:i,height:i-o,width:r-n}},e.prototype.vertexOfBBox=function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},e.prototype.crossPointsByLineAndBBox=function(t,e){var n=[];return e.x<t.minX||e.x>t.maxX||(n=n.concat([{x:e.x,y:t.minY},{x:e.x,y:t.maxY}])),e.y<t.minY||e.y>t.maxY||(n=n.concat([{x:t.minX,y:e.y},{x:t.maxX,y:e.y}])),n},e.prototype.getBBoxFromVertexes=function(t,e){var n=Math.min(t.x,e.x),o=Math.max(t.x,e.x),r=Math.min(t.y,e.y),i=Math.max(t.y,e.y);return{centerX:(n+o)/2,centerY:(r+i)/2,maxX:o,maxY:i,minX:n,minY:r,height:i-r,width:o-n}},e.prototype.filterConnectablePoints=function(t,e){return t.filter((function(t){return t.x<=e.minX||t.x>=e.maxX||t.y<=e.minY||t.y>=e.maxY}))},e.prototype.AStar=function(t,e,n,o,r){var i,a=this,s=[e],u=[];t=function(t,e){var n=[];return t.forEach((function(t){n.find((function(n){return n[e]===t[e]}))||n.push(t)})),n}(this.fillId(t),"id"),t.push(n);for(var c=function(){var e;if(s.forEach((function(t,n){t.parent||(t.f=0),e||(e=t),t.f<e.f&&(e=t)})),e.x===n.x&&e.y===n.y)return i=e,"break";s.splice(s.findIndex((function(t){return t.x===e.x&&t.y===e.y})),1),u.push(e),t.filter((function(t){return!(t.x!==e.x&&t.y!==e.y||t.x===e.x&&t.y===e.y||a.crossBBox([o,r],e,t))})).forEach((function(t){var o=s.find((function(e){return e.x===t.x&&e.y===t.y})),i=a.getCost(t,e);if(u.find((function(e){return e.x===t.x&&e.y===t.y})));else if(o)t.g>i&&(t.parent=e,t.g=i,t.f=t.g+t.h);else{t.parent=e,t.g=i;var c=a.getCost(t,n);a.crossBBox([r],t,n)&&(c+=r.width/2+r.height/2),t.h=c,t.f=t.g+t.h,s.push(t)}}))};s.length>0;){if("break"===c())break}if(i){var l=[];for(l.push({x:i.x,y:i.y});i.parent;)i=i.parent,l.push({x:i.x,y:i.y});return l.reverse()}return[]},e.prototype.fillId=function(t){return t.forEach((function(t){t.id=t.x+"-"+t.y})),t},e.prototype.crossBBox=function(t,e,n){for(var o=0;o<t.length;o++){var r=t[o];if(e.x===n.x&&r.minX<e.x&&r.maxX>e.x){if(e.y<r.maxY&&n.y>=r.maxY||n.y<r.maxY&&e.y>=r.maxY)return!0}else if(e.y===n.y&&r.minY<e.y&&r.maxY>e.y&&(e.x<r.maxX&&n.x>=r.maxX||n.x<r.maxX&&e.x>=r.maxX))return!0}return!1},e.prototype.getCost=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},e.prototype.getPath=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];if(0===n)e.push(["M",o.x,o.y]);else if(n===t.length-1)e.push(["L",o.x,o.y]);else{var r=t[n-1],i=t[n+1],a=5;(Math.abs(o.y-r.y)>a||Math.abs(o.x-r.x)>a)&&(r.x===o.x?e.push(["L",o.x,o.y>r.y?o.y-a:o.y+a]):r.y===o.y&&e.push(["L",o.x>r.x?o.x-a:o.x+a,o.y]));var s=Math.abs(o.y-i.y),u=Math.abs(o.x-i.x);s>0&&s<a?a=s:u>0&&u<a&&(a=u),r.x!==i.x&&i.x===o.x?e.push(["Q",o.x,o.y,o.x,o.y>i.y?o.y-a:o.y+a]):r.y!==i.y&&i.y===o.y&&e.push(["Q",o.x,o.y,o.x>i.x?o.x-a:o.x+a,o.y])}}return e},e}(i.RegisterEdge);e.default=a},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RegisterEdge=void 0;var a=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cvte-polyline",n.extendedName="polyline",n}return r(e,t),e.prototype.register=function(){var t=this;this.G6.registerEdge(this.name,{drawShape:function(e,n){return t.draw.call(t,e,n,this)},afterDraw:function(e,n){return t.afterDraw.call(t,e,n,this)},update:function(e,n){t.update.call(t,e,n,this)},afterUpdate:function(e,n){t.afterUpdate.call(t,e,n,this)},setState:function(e,n,o){t.setState.call(t,e,n,o,this)}},"polyline")},e.prototype.draw=function(t,e,n){},e.prototype.update=function(t,e,n){},e.prototype.afterUpdate=function(t,e,n){},e.prototype.afterDraw=function(t,e,n){},e.prototype.setState=function(t,e,n,o){},e}(i(n(5)).default);e.RegisterEdge=a},function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o={hoverEdge:function(t,e){var n=t.getContainer().getChildByIndex(0);e?n.attr("stroke","#60A1DE"):n.attr("stroke","#164979")},selectEdge:function(t,e){var n=t.getContainer().getChildByIndex(0);e?n.attr({opacity:1,lineWidth:2}):n.attr({opacity:.6,lineWidth:1})}};e.default=function(t){t.registerEdge("cvte-polyline",{drawShape:function(t,e){this.group=e,this.label=null;t.startPoint,t.endPoint;return e.addShape("path",{className:"edge-shape",attrs:{stroke:"#164979",lineWidth:1,lineAppendWidth:8,path:this.computePath(t),opacity:.6,endArrow:{path:"M 0,0 L 6,-2 Q 5 0,6 2 Z",lineDash:[0,0],fill:"#164979"}},name:"edge-shape"})},computePath:function(t){var e=t.startPoint,n=t.endPoint,o=this.getControlPoints(t),r=[e];return o&&(r=r.concat(o)),r.push(n),this.getPath(r)},drawLabel:function(t,e){var o=t.labelCfg||{},r=this.getLabelStyle(t,o,e),i=e.addShape("text",{attrs:n({},r)}),a=i.getBBox();return e.addShape("rect",{attrs:{x:a.x-2,y:a.y-2,width:a.width+4,height:a.height+4,fill:"#fff",stroke:"#fff"},name:"edge-labelRect",className:"edge-labelRect"}),e.toBack(),i.toFront(),i},afterUpdate:function(t,e){var n=e.getContainer().findByClassName("edge-label"),o=e.getContainer().findByClassName("edge-labelRect");if(n){var r=n.getBBox();o.attr({x:r.x-2,y:r.y-2,width:r.width+4,height:r.height+4})}},getControlPoints:function(t){if(!t.sourceNode)return t.controlPoints;var e={sNode:t.sourceNode,tNode:t.targetNode,sPort:t.startPoint,tPort:t.endPoint,offset:15};return this.polylineFinding(e)},polylineFinding:function(t){var e=t.sNode,n=t.tNode,o=t.sPort,r=t.tPort,i=t.offset,a=e&&e.getBBox()?e.getBBox():this.getPointBBox(o),s=n&&n.getBBox()?n.getBBox():this.getPointBBox(r),u=this.getExpandedBBox(a,i),c=this.getExpandedBBox(s,i),l=this.getExpandedPort(u,o),d=this.getExpandedPort(c,r),f=this.getConnectablePoints(u,c,l,d);return f=this.filterConnectablePoints(f,u),f=this.filterConnectablePoints(f,c),this.AStar(f,l,d,u,c)},getPointBBox:function(t){return{centerX:t.x,centerY:t.y,minX:t.x,minY:t.y,maxX:t.x,maxY:t.y,height:0,width:0}},getExpandedBBox:function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},getExpandedPort:function(t,e){return Math.abs(e.x-t.centerX)/t.width>Math.abs(e.y-t.centerY)/t.height?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},getConnectablePoints:function(t,e,n,o){var r=this,i=this.getBBoxFromVertexes(n,o),a=this.combineBBoxes(t,e),s=this.combineBBoxes(t,i),u=this.combineBBoxes(e,i),c=[];c=c.concat(this.vertexOfBBox(s),this.vertexOfBBox(u),this.vertexOfBBox(a));var l={x:a.centerX,y:a.centerY};return[a,s,u,i].forEach((function(t){c=c.concat(r.crossPointsByLineAndBBox(t,l))})),c.push({x:n.x,y:o.y}),c.push({x:o.x,y:n.y}),c},combineBBoxes:function(t,e){var n=Math.min(t.minX,e.minX),o=Math.min(t.minY,e.minY),r=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(n+r)/2,centerY:(o+i)/2,minX:n,minY:o,maxX:r,maxY:i,height:i-o,width:r-n}},vertexOfBBox:function(t){return[{x:t.minX,y:t.minY},{x:t.maxX,y:t.minY},{x:t.maxX,y:t.maxY},{x:t.minX,y:t.maxY}]},crossPointsByLineAndBBox:function(t,e){var n=[];return e.x<t.minX||e.x>t.maxX||(n=n.concat([{x:e.x,y:t.minY},{x:e.x,y:t.maxY}])),e.y<t.minY||e.y>t.maxY||(n=n.concat([{x:t.minX,y:e.y},{x:t.maxX,y:e.y}])),n},getBBoxFromVertexes:function(t,e){var n=Math.min(t.x,e.x),o=Math.max(t.x,e.x),r=Math.min(t.y,e.y),i=Math.max(t.y,e.y);return{centerX:(n+o)/2,centerY:(r+i)/2,maxX:o,maxY:i,minX:n,minY:r,height:i-r,width:o-n}},filterConnectablePoints:function(t,e){return t.filter((function(t){return t.x<=e.minX||t.x>=e.maxX||t.y<=e.minY||t.y>=e.maxY}))},AStar:function(t,e,n,o,r){var i,a=this,s=[e],u=[];t=function(t,e){var n=[];return t.forEach((function(t){n.find((function(n){return n[e]===t[e]}))||n.push(t)})),n}(this.fillId(t),"id"),t.push(n);for(var c=function(){var e;if(s.forEach((function(t,n){t.parent||(t.f=0),e||(e=t),t.f<e.f&&(e=t)})),e.x===n.x&&e.y===n.y)return i=e,"break";var c=s.findIndex((function(t){return t.x===e.x&&t.y===e.y}));s.splice(-1===c?0:c,1),u.push(e),t.filter((function(t){return!(t.x!==e.x&&t.y!==e.y||t.x===e.x&&t.y===e.y||a.crossBBox([o,r],e,t))})).forEach((function(t){var o=s.find((function(e){return e.x===t.x&&e.y===t.y})),i=a.getCost(t,e);if(u.find((function(e){return e.x===t.x&&e.y===t.y})));else if(o)t.g>i&&(t.parent=e,t.g=i,t.f=t.g+t.h);else{t.parent=e,t.g=i;var c=a.getCost(t,n);a.crossBBox([r],t,n)&&(c+=r.width/2+r.height/2),t.h=c,t.f=t.g+t.h,s.push(t)}}))};s.length>0;){if("break"===c())break}if(i){var l=[];for(l.push({x:i.x,y:i.y});i.parent;)i=i.parent,l.push({x:i.x,y:i.y});return l.reverse()}return[]},fillId:function(t){return t.forEach((function(t){t.id=t.x+"-"+t.y})),t},crossBBox:function(t,e,n){for(var o=0;o<t.length;o++){var r=t[o];if(e.x===n.x&&r.minX<e.x&&r.maxX>e.x){if(e.y<r.maxY&&n.y>=r.maxY||n.y<r.maxY&&e.y>=r.maxY)return!0}else if(e.y===n.y&&r.minY<e.y&&r.maxY>e.y&&(e.x<r.maxX&&n.x>=r.maxX||n.x<r.maxX&&e.x>=r.maxX))return!0}return!1},getCost:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},getPath:function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];if(0===n)e.push(["M",o.x,o.y]);else if(n===t.length-1)e.push(["L",o.x,o.y]);else{var r=t[n-1],i=t[n+1],a=5;(Math.abs(o.y-r.y)>a||Math.abs(o.x-r.x)>a)&&(r.x===o.x?e.push(["L",o.x,o.y>r.y?o.y-a:o.y+a]):r.y===o.y&&e.push(["L",o.x>r.x?o.x-a:o.x+a,o.y]));var s=Math.abs(o.y-i.y),u=Math.abs(o.x-i.x);s>0&&s<a?a=s:u>0&&u<a&&(a=u),r.x!==i.x&&i.x===o.x?e.push(["Q",o.x,o.y,o.x,o.y>i.y?o.y-a:o.y+a]):r.y!==i.y&&i.y===o.y&&e.push(["Q",o.x,o.y,o.x>i.x?o.x-a:o.x+a,o.y])}}return e},setState:function(t,e,n){o[t]&&o[t].call(this,n,e)}},"polyline")}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.registerEdge("cover-cricle",{draw:function(t,e){var n=t.startPoint,o=t.endPoint,r={x:(n.x+o.x)/2,y:(n.y+o.y)/2},i={x:(n.x+r.x)/2,y:n.y};return e.addShape("path",{attrs:{path:[["M",n.x,n.y],["Q",i.x+8,i.y,r.x,r.y],["T",o.x-8,o.y],["L",o.x,o.y]],stroke:"#ccc",lineWidth:1.6,endArrow:{path:"M 12,4 L 4,0 L 12,-4 Z",d:4,fill:"#fff"}}})}})}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(24),s=i(n(25)),u=function(t){function e(e){var n=t.call(this,e)||this;return n.register(),n}return r(e,t),e.prototype.register=function(){s.default.registerFactory("anchor",{defaultShapeType:"marker",getShape:function(t){return Object.assign({},a.shapeBase,{type:"marker",itemType:t,drawShape:function(t,e){var n=this.getShapeStyle(t);return e.addShape("marker",{attrs:n,name:"anchor-shape",draggable:!0})},setState:function(t,e,n){"anchor-active"===t&&e&&this.update({style:{fill:"#1990FF",r:5}},n),"hoverAnchor"===t&&(e?this.update({style:{fill:"#AEA1FF"}},n):this.update({style:{fill:"#FFF"}},n))}})}})},e}(i(n(5)).default);e.default=u},t=>{"use strict";t.exports=require("@antv/g6-core/lib/element/shapeBase")},t=>{"use strict";t.exports=require("@antv/g6-core/lib/element/shape")},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(27)),i=o(n(29)),a=o(n(30)),s=o(n(31)),u=o(n(32)),c=o(n(33)),l=o(n(34)),d=o(n(35)),f=o(n(36));e.default=[r.default,i.default,a.default,s.default,u.default,c.default,l.default,d.default,f.default]},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(28)),s={onNodeMouseEnter:function(t){this.graph.setItemState(t.item,"hoverNode",!0)},onNodeMouseLeave:function(t){"anchor-shape"!==t.target.cfg.name&&this.graph.setItemState(t.item,"hoverNode",!1)}},u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-hover-node",n.register(s),n}return r(e,t),e.prototype.getEvents=function(){return{"node:mouseenter":"onNodeMouseEnter","node:mouseleave":"onNodeMouseLeave"}},e}(a.default);e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=t.call(this,e)||this;return n.name="",n}return r(e,t),e.prototype.register=function(t){void 0===t&&(t={});this.G6.registerBehavior(this.name,i({getEvents:this.getEvents},t))},e.prototype.getEvents=function(){return{}},e}(a(n(5)).default);e.default=s},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(28)),s={onNodeMouseEnter:function(t){this.graph.setItemState(t.item,"hoverNode",!0)},onAnchorMouseLeave:function(t){var e=t.item.getContainer().getParent();this.graph.setItemState(t.item,"hoverAnchor",!1),e&&this.graph.setItemState(e.get("item"),"hoverNode",!1)},onAnchorMouseEnter:function(t){this.graph.setItemState(t.item,"hoverAnchor",!0)}},u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-hover-anchor",n.register(s),n}return r(e,t),e.prototype.getEvents=function(){return{"anchor:mouseleave":"onAnchorMouseLeave","anchor:mouseenter":"onAnchorMouseEnter"}},e}(a.default);e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(28)),u={origin:null,target:null,onNodeDragStart:function(t){this.target=t.item,this.origin={x:t.x,y:t.y}},onNodeDrag:function(t){if(this.origin){var e=this.target.get("model"),n=this.origin;this.point||(this.point={x:e.x,y:e.y});var o=t.x-n.x+this.point.x,r=t.y-n.y+this.point.y;this.origin={x:t.x,y:t.y},this.point={x:o,y:r},this.moveDelegate(this.target,o,r)}},onNodeDragEnd:function(t){if(this.origin){var e=t.item.get("delegateShape"),n=e.getBBox(),o=n.x+3,r=n.y+3;e.remove(),this.target.set("delegateShape",null),this.graph.updateItem(this.target,{x:o,y:r});var i=this.graph.get("MacroCommand");i&&i.executeCommand("docat",{graph:this.graph}),this.point=null,this.origin=null,this.graph.emit("afternodedragend")}},moveDelegate:function(t,e,n){var o=t.get("delegateShape"),r=t.get("keyShape").getBBox(),a=t.getKeyShape().attr();if(!o){var s=this.graph.get("group"),u={stroke:a.stroke?a.stroke:"#1890FF",fill:a.fill?a.fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},c={};a.r&&(c.radius=r.width/2),o=s.addShape("rect",{attrs:i(i({width:r.width,height:r.height,x:e-r.width/2,y:n-r.height/2,nodeId:t.get("id")},u),c)}),t.set("delegateShape",o)}o.attr({x:e,y:n}),this.graph.paint(),this.graph.emit("afternodedrag",o)}},c=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-drag-node",n.register(u),n}return r(e,t),e.prototype.getEvents=function(){return{"node:dragstart":"onNodeDragStart","node:drag":"onNodeDrag","node:dragend":"onNodeDragEnd"}},e}(s.default);e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{u(o.next(t))}catch(t){i(t)}}function s(t){try{u(o.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((o=o.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(28)),c={originInfo:null,target:null,isSameNode:function(t){return t.target.getParent()&&t.target.getParent().getParent()&&t.target.getParent().getParent().get("item")===this.originInfo.sourceNode},onDragLeave:function(t){this.originInfo&&(t.item.setHotspotActived(!1),this.originInfo.targetNode=null,this.originInfo.targetAnchor=null)},onDragEnter:function(t){this.originInfo&&(t.item.setHotspotActived(!0),this.isSameNode(t)||(this.originInfo.targetNode=t.target.getParent().getParent().get("item"),this.originInfo.targetAnchor=t.item.get("index")))},onDrag:function(t){this._updateEdgeDelegate(this.target,t.x,t.y)},_updateEdgeDelegate:function(t,e,n){var o=t.get("edgeDelegate");o||((o=this.graph.get("group").addShape("line",{attrs:{x1:this.originInfo.x,y1:this.originInfo.y,x2:e,y2:n,stroke:"#1890FF",lineDash:[4,4],lineWidth:1}})).set("capture",!1),t.set("edgeDelegate",o));o.attr({x2:e,y2:n}),this.graph.paint()},onDragStart:function(t){var e=t.item.get("index"),n=t.target.getParent().getParent().get("item"),o=n.get("model"),r=n.getAnchorPoints(o)[e];this.originInfo={x:r.x,y:r.y,sourceNode:n,sourceAnchor:e},this.showAllAnchor(),this.graph.set("edgeDragging",!0),this.target=t.item},onDragEnd:function(t){return i(this,void 0,void 0,(function(){var e,n;return a(this,(function(o){switch(o.label){case 0:return this.clearAllAnchor(),(e=t.item.get("edgeDelegate"))&&e.remove(),[4,this.graph.get("edgeEndCallback")(this.originInfo.sourceNode,this.originInfo.targetNode)];case 1:return o.sent()?(this.originInfo.targetNode&&this.graph.add("edge",{source:this.originInfo.sourceNode.get("id"),target:this.originInfo.targetNode.get("id"),sourceAnchor:this.originInfo.sourceAnchor,targetAnchor:this.originInfo.targetAnchor,type:"cvte-polyline"}),this.graph.setItemState(this.originInfo.sourceNode,"hoverNode",!1),this.graph.emit("onDargEdgeEnd",{sourceNode:this.originInfo.sourceNode,targetNode:this.originInfo.targetNode}),(n=this.graph.get("MacroCommand"))&&n.executeCommand("docat",{graph:this.graph}),[2]):[2]}}))}))},clearAllAnchor:function(){this.graph.getNodes().forEach((function(t){t.getContainer().clearAnchor()})),this.graph.setItemState(this.originInfo.sourceNode,"hover",!1)},showAllAnchor:function(t){var e=this,n=this.graph.getNodes();this.originInfo.sourceNode.getModel().groupId;n.forEach((function(t){var n=t.getContainer();e.originInfo.sourceNode!==t?(n.showAnchor(),n.anchorShapes.forEach((function(t){return t.get("item").showHotpot()}))):n.anchorShapes.forEach((function(t){t.get("item").showHotpot(),t.get("item").get("index")===e.originInfo.sourceAnchor&&e.graph.setItemState(t.get("item"),"anchor-active",!0)}))}))}},l=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-drag-anchor",n.register(c),n}return r(e,t),e.prototype.getEvents=function(){return{"anchor:dragstart":"onDragStart","anchor:dragend":"onDragEnd","anchor:dragenter":"onDragEnter","anchor:dragleave":"onDragLeave","anchor:drag":"onDrag"}},e}(u.default);e.default=l},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(28)),s={onNodeClick:function(t){this.clearAllSelected(),this.graph.setItemState(t.item,"selectNode",!0),this.graph.set("selectedItem",t.item);var e=t.item.get("group");this.graph.emit("onSelectNode",t.item,e),this.graph.set("noKeyDown",!1)},onEdgeClick:function(t){this.clearAllSelected(),this.graph.setItemState(t.item,"selectEdge",!0),this.graph.set("selectedItem",t.item),this.graph.set("noKeyDown",!1);var e=t.item.get("group");this.graph.emit("onSelectedEdge",t.item,e)},onCanvasClick:function(t){this.graph.set("noKeyDown",!1),this.clearAllSelected()},clearAllSelected:function(){var t=this,e=this.graph.findAllByState("node","selectNode");this.graph.set("selectedItem",null);var n=this.graph.findAllByState("edge","selectEdge");e.forEach((function(e){t.graph.setItemState(e,"selectNode",!1)})),n.forEach((function(e){t.graph.setItemState(e,"selectEdge",!1)})),this.graph.emit("onClearSelectNode",null)},onNodeDoubleClick:function(t){this.graph.setItemState(t.item,"selectNode",!0),this.graph.set("selectedItem",t.item),this.graph.emit("onDoubleClickNode",t.item),this.graph.set("noKeyDown",!1)},onEdgeDoubleClick:function(t){this.clearAllSelected(),this.graph.setItemState(t.item,"selectEdge",!0),this.graph.set("selectedItem",t.item),this.graph.set("noKeyDown",!1);var e=t.item.get("group");this.graph.emit("onDoubleClickEdge",t.item,e)}},u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-select-node",n.register(s),n}return r(e,t),e.prototype.getEvents=function(){return{"node:click":"onNodeClick","canvas:click":"onCanvasClick","edge:click":"onEdgeClick","node:dblclick":"onNodeDoubleClick","edge:dblclick":"onEdgeDoubleClick"}},e}(a.default);e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(28)),s={onEdgeMouseEnter:function(t){this.graph.setItemState(t.item,"hoverEdge",!0)},onEdgeMouseLeave:function(t){this.graph.setItemState(t.item,"hoverEdge",!1)}},u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-hover-edge",n.register(s),n}return r(e,t),e.prototype.getEvents=function(){return{"edge:mouseenter":"onEdgeMouseEnter","edge:mouseleave":"onEdgeMouseLeave"}},e}(a.default);e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(28)),s={onKeyDown:function(t){var e=this.graph.get("selectedItem");if(!this.graph.get("noKeyDown")&&8===t.keyCode&&e){var n=this.graph.get("MacroCommand");n?n.executeCommand("delete",{graph:this.graph}):(this.graph.remove(e),this.graph.set("selectedItem",null))}}},u=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-delete-item",n.register(s),n}return r(e,t),e.prototype.getEvents=function(){return{keydown:"onKeyDown"}},e}(a.default);e.default=u},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(28)),u={onMouseUp:function(t){if(this.graph.get("addNodeDragging")){var e=this.graph.get("addNodeModel"),n=this.graph.getPointByClient(t.clientX,t.clientY),o=n.x-e.offsetX,r=n.y-e.offsetY,a=(new Date).getTime(),s=i({type:e.nodeType,id:"".concat(a),x:o,y:r,style:i({},e)},e.model);this.graph.addItem("node",s),this.graph.paint(),this.graph.emit("onAddPanelNode",s);var u=this.graph.get("MacroCommand");u&&u.executeCommand("docat",{graph:this.graph})}}},c=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-add-node",n.register(u),n}return r(e,t),e.prototype.getEvents=function(){return{"canvas:mouseup":"onMouseUp"}},e}(s.default);e.default=c},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(9),s=n(37),u=i(n(28)),c={onDrag:function(t){this._clearAlignLine(),this._itemAlign(t)},onDragEnd:function(){this._clearAlignLine()},getDefaultCfg:function(){return{alignLineStyle:{stroke:"#540000",lineWidth:1},tolerance:4,_alignLines:[]}},_itemAlign:function(t){var e=this,n=t.getBBox(),o={x:n.x+n.width/2,y:n.y},r={x:n.x+n.width/2,y:n.y+n.height/2},i={x:n.x+n.width/2,y:n.y+n.height},s={x:n.x,y:n.y+n.height/2},u={x:n.x+n.width,y:n.y+n.height/2},c=t._attrs&&t._attrs.nodeId?this.graph.getNodes().filter((function(e){return e.get("id")!==t._attrs.nodeId})):this.graph.getNodes();(0,a.each)(c,(function(c){var l=[],d=[],f=null,h=c.getBBox();if((0,a.each)(e.getHorizontalLines(h),(function(t){l.push(e.getDistance(t,o)),l.push(e.getDistance(t,r)),l.push(e.getDistance(t,i))})),(0,a.each)(e.getVerticalLines(h),(function(t){d.push(e.getDistance(t,s)),d.push(e.getDistance(t,r)),d.push(e.getDistance(t,u))})),l.sort((function(t,e){return t.dis-e.dis})),d.sort((function(t,e){return t.dis-e.dis})),l.length>0&&l[0].dis<e.tolerance){t.attr({y:l[0].line[1]-l[0].point.y+n.y}),f={horizontals:[l[0]]};for(var p=1;p<3;p++)l[0].dis===l[p].dis&&f.horizontals.push(l[p])}if(d.length>0&&d[0].dis<e.tolerance){t.attr({x:d[0].line[0]-d[0].point.x+n.x}),f?f.verticals=[d[0]]:f={verticals:[d[0]]};for(p=1;p<3;p++)d[0].dis===d[p].dis&&f.verticals.push(d[p])}f&&(f.bbox=n,e._addAlignLine(f))}))},_addAlignLine:function(t){var e=this.graph.get("group"),n=t.bbox,o=this.alignLineStyle,r=this._alignLines;t.horizontals&&(0,a.each)(t.horizontals,(function(t){var i,s,u=t.line,c=t.point,l=(u[0]+u[2])/2;c.x<l?(i=c.x-n.width/2,s=Math.max(u[0],u[2])):(i=c.x+n.width/2,s=Math.min(u[0],u[2]));var d=e.addShape("line",{attrs:(0,a.mix)({x1:i,y1:u[1],x2:s,y2:u[1]},o),capture:!1});r.push(d)})),t.verticals&&(0,a.each)(t.verticals,(function(t){var i,s,u=t.line,c=t.point,l=(u[1]+u[3])/2;c.y<l?(i=c.y-n.height/2,s=Math.max(u[1],u[3])):(i=c.y+n.height/2,s=Math.min(u[1],u[3]));var d=e.addShape("line",{attrs:(0,a.mix)({x1:u[0],y1:i,x2:u[0],y2:s},o),capture:!1});r.push(d)}))},getHorizontalLines:function(t){return[[t.minX,t.minY,t.maxX,t.minY],[t.minX,t.centerY,t.maxX,t.centerY],[t.minX,t.maxY,t.maxX,t.maxY]]},getVerticalLines:function(t){return[[t.minX,t.minY,t.minX,t.maxY],[t.centerX,t.minY,t.centerX,t.maxY],[t.maxX,t.minY,t.maxX,t.maxY]]},getDistance:function(t,e){return{line:t,point:e,dis:this.pointLineDistance(t[0],t[1],t[2],t[3],e.x,e.y)}},pointLineDistance:function(t,e,n,o,r,i){var a=[n-t,o-e];if(s.vec2.exactEquals(a,[0,0]))return NaN;var u=[-a[1],a[0]];return s.vec2.normalize(u,u),Math.abs(s.vec2.dot([r-t,i-e],u))},_clearAlignLine:function(){(0,a.each)(this._alignLines,(function(t){t.remove()})),this._alignLines=[],this.graph.paint()}},l=function(t){function e(e){var n=t.call(this,e)||this;return n.name="cover-align-node",n.register(c),n}return r(e,t),e.prototype.getEvents=function(){return{afternodedrag:"onDrag",afternodedragend:"onDragEnd"}},e}(u.default);e.default=l},t=>{"use strict";t.exports=require("@antv/matrix-util")},function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.layoutSetting=void 0;var o={type:"dagre",align:"DL",nodesep:20,ranksep:50,controlPoints:!0};e.layoutSetting={horizontal:n(n({},o),{rankdir:"LR"}),vertical:n(n({},o),{rankdir:"TB"})}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlowUtil=void 0;var n=function(){this.debounce=function(t,e){var n=null;return function(){n?(clearTimeout(n),n=setTimeout(t,e)):n=setTimeout(t,e)}},this.throttle=function(){}};e.FlowUtil=n},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=s(n(41)),l=u(n(1)),d=u(n(42)),f=u(n(47)),h=u(n(51)),p=u(n(52)),g=u(n(54)),y=u(n(55));n(67);var m=200,x=48,v=function(){this.autoSize=function(t,e){return void 0===t&&(t=window.innerHeight),void 0===e&&(e=window.innerWidth),{listWidth:m,listHeight:t-x,flowWidth:e-m,flowHeight:t-x}},this.debounce=function(t,e){var n=null;return function(){n?(clearTimeout(n),n=setTimeout(t,e)):n=setTimeout(t,e)}},this.throttle=function(){}},w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toolBar=c.default.createRef(),e.xiooFlow=c.default.createRef(),e.util=new v,e.workflowContainer=c.default.createRef(),e.nodePanelContainer=c.default.createRef(),e.workflowInstance=null,e.state={size:{listWidth:0,listHeight:0,flowWidth:0,flowHeight:0}},e.initWorkflow=function(){var t=e.state.size,n=e.props,o=n.initEdges,r=n.initNodes,i=n.layout,a=n.returnGraph,s=n.animate,u=n.commandList,c=n.judgeEdgeEnd,d=(n.registerNodeList,n.registerEdgeList),f=void 0===d?[]:d,m=n.registerNodes,x=void 0===m?[]:m,v=n.registerBehaviors,w=void 0===v?[]:v,_=n.initPlugins,b=void 0===_?[]:_,S=n.treeGroup,O=n.defaultEdge,P=n.defaultNode,j=n.modes,E=n.mode,C=void 0===E?"edit":E,M=[new p.default];if(e.nodePanelContainer.current){var N=new h.default({container:e.nodePanelContainer.current});M.push(N)}if(e.toolBar.current){var B=new g.default({container:e.toolBar.current});M.push(B)}var k=new l.default({container:e.workflowContainer.current,width:t.flowWidth,height:t.flowHeight,plugins:M.concat(b),layout:i,initNodes:r,initEdges:o,registerNodes:x,animate:s,registerEdgeList:f,registerBehaviors:w,edgeCallback:c,treeGroup:S,defaultEdge:O,defaultNode:P,modes:j});k.graph.setMode(C),k.graph.on("onDoubleClickNode",(function(t){})),k.graph.on("onDargEdgeEnd",(function(t){console.log(t)})),e.workflowInstance=k,e.registerListener(),a&&a(e.workflowInstance),(0,y.default)(u)},e.registerListener=function(){var t=e.props.listeners;Object.keys(t).forEach((function(n){e.workflowInstance.graph.on(n,t[n])}))},e.handleHeaderChange=function(t){},e}return r(e,t),e.prototype.componentDidMount=function(){var t=this;new ResizeObserver((function(e){var n=e[0].contentRect,o=n.height,r=n.width;console.log(e),t.autoSize(o,r)})).observe(this.xiooFlow.current)},e.prototype.autoSize=function(t,e){var n=this,o=this.util.autoSize(t,e);this.setState({size:o},(function(){n.workflowInstance||n.initWorkflow()})),this.workflowInstance&&this.workflowInstance.graph.changeSize(o.flowWidth,o.flowHeight)},e.prototype.render=function(){var t=this.props.mode,e=void 0===t?"edit":t;return c.default.createElement("div",{className:"xioo-flow",id:"xioo-flow",ref:this.xiooFlow},this.props.ExtraElement,"edit"===e&&c.default.createElement("div",{className:"xioo-flow-header",ref:this.toolBar},c.default.createElement(d.default,{xiooFlow:this.xiooFlow,unusedCommands:this.props.unusedCommands},this.props.toolbar)),c.default.createElement("div",{className:"xioo-flow-body",style:{height:this.state.size.flowHeight}},"edit"===e&&c.default.createElement("div",{className:"xioo-flow-body-node",ref:this.nodePanelContainer,style:{width:this.state.size.listWidth}},c.default.createElement(f.default,{groupNodeList:this.props.groupNodeList})),c.default.createElement("div",{className:"xioo-flow-body-flow",ref:this.workflowContainer,style:{width:"edit"===e?this.state.size.flowWidth:this.state.size.flowWidth+m,height:"edit"===e?this.state.size.flowHeight:this.state.size.flowHeight+x}})))},e.defaultProps={groupNodeList:[],initNodes:[],initEdges:[],listeners:{},animate:!1,commandList:[],registerBehaviors:[],treeGroup:!1},e}(c.Component);e.default=w},t=>{"use strict";t.exports=require("react")},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(41));n(43);var c=[{icons:[{command:"undo",iconClass:"fa fa-mail-reply",text:"撤销"},{command:"redo",iconClass:"fa fa-mail-forward",text:"恢复"}]},{icons:[{command:"copy",iconClass:"fa fa-clone",text:"复制"},{command:"delete",iconClass:"fa fa-trash-o",text:"删除"}]},{icons:[{command:"blow",iconClass:"fa fa-search-plus",text:"放大",params:{value:.1}},{command:"blow",iconClass:"fa fa-search-minus",text:"缩小",params:{value:-.1}},{command:"fitView",iconClass:"fa fa-laptop",text:"适应画布"},{command:"originSize",iconClass:"fa fa-calendar-check-o",text:"实际大小"},{command:"layout",iconClass:"fa fa-cube",text:"重新布局"}]},{icons:[{command:"fullScreen",iconClass:"fa fa-window-maximize",text:"全屏",params:{domId:"xioo-flow"}}]}],l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleFullScreen=function(){var t=e.props.xiooFlow.current,n=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;void 0!==n&&n&&n.call(t)},e}return r(e,t),e.prototype.render=function(){var t=this.props.unusedCommands,e=void 0===t?[]:t;return u.default.createElement("div",{className:"xioo-work-header"},function(t,e){return t.map((function(t){return{icons:t.icons.filter((function(t){return!e.includes(t.command)}))}})).filter((function(t){return t.icons.length>0}))}(c,e).map((function(t,e){return u.default.createElement("div",{key:e,className:"xioo-work-header-group"},t.icons.map((function(t,e){return u.default.createElement("div",{key:e,className:"xioo-work-header-group-icon".concat(t.params?" actionable":""),"data-command":t.command,"data-params":t.params?"".concat(JSON.stringify(t.params)):void 0},u.default.createElement("span",{className:"operate ".concat(t.iconClass)}),u.default.createElement("span",{className:"icon-text"},t.text))})))})),u.default.Children.map(this.props.children,(function(t,e){var n=t.props;return u.default.cloneElement(t,n)})))},e}(u.Component);e.default=l},(t,e,n)=>{var o=n(44),r=n(45);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);var i={insert:"head",singleton:!1};o(r,i);t.exports=r.locals||{}},(t,e,n)=>{"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},o=[],r=0;r<t.length;r++){var i=t[r],u=e.base?i[0]+e.base:i[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=s(l),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:l,updater:y(f,e),references:1}),o.push(l)}return o}function c(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function f(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var p=null,g=0;function y(t,e){var n,o,r;if(e.singleton){var i=g++;n=p||(p=c(e)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=c(e),o=h.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=u(t,e),c=0;c<n.length;c++){var l=s(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},(t,e,n)=>{(e=n(46)(!1)).push([t.id,".xioo-work-header {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n.xioo-work-header .xioo-work-header-group {\n  display: flex;\n  padding: 0px 8px;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon {\n  width: 30px;\n  height: 30px;\n  border: 1px solid transparent;\n  transition: 0.3s;\n  border-radius: 2px;\n  margin: 0 8px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon.actionable .operate {\n  color: #404040;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon .icon-text {\n  display: none;\n  position: absolute;\n  font-size: 12px;\n  height: 20px;\n  width: 60px;\n  background: #1990FF;\n  border-radius: 4px;\n  justify-content: center;\n  align-items: center;\n  top: 35px;\n  color: #fff;\n  border: 1px solid #0184FF;\n  box-shadow: 0 2px 4px 1px #c0c0c0;\n  opacity: 0;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon .icon-text::before {\n  content: '';\n  border: 10px solid transparent;\n  border-bottom-color: #1990FF;\n  position: absolute;\n  height: 10px;\n  width: 10px;\n  top: -20px;\n  left: 0px;\n  right: 0px;\n  margin: auto;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon:hover {\n  border: 1px solid #f0f0f0;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon:hover .operate {\n  color: #1990FF;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon:hover .icon-text {\n  display: flex;\n  transition: 0.3s;\n  opacity: 1;\n}\n.xioo-work-header .xioo-work-header-group .xioo-work-header-group-icon .operate {\n  font-size: 18px;\n  color: #A2A2A2;\n  transition: 0.3s;\n}\n.xioo-work-header .xioo-work-header-group + .xioo-work-header-group {\n  border-left: 1px solid #f0f0f0;\n}\n",""]),t.exports=e},t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([r]).join("\n")}var a,s,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);o&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},i.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=u(n(41)),d=c(n(48));n(49);var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={panelVisible:{},nodePanelGroup:[]},e.initNodeData=function(){var t=e.state.panelVisible,n=e.props.groupNodeList.map((function(e){return t[e.groupKey]=!!e.defaultOpen&&e.defaultOpen,e.nodes=e.nodes.map((function(t){var e=i(i({},t.style||{}),{img:t.icon,text:t.text,thumbnail:t.thumbnail,position:t.position,nodeType:t.nodeType,model:t.model||{}});return t.attrs=e,t})),e}));e.setState({nodePanelGroup:n,panelVisible:t})},e.handlePanelHeader=function(t){var n=e.state.panelVisible;n[t]=!n[t],e.setState({panelVisible:n})},e}return r(e,t),e.prototype.componentDidMount=function(){this.initNodeData()},Object.defineProperty(e.prototype,"NodePanel",{get:function(){var t=this,e=this.state.nodePanelGroup;return(void 0===e?[]:e).map((function(e){return l.default.createElement("div",{className:"flow-group-panel",key:e.groupKey},l.default.createElement("div",{className:"flow-group-panel-header",onClick:function(){return t.handlePanelHeader(e.groupKey)}},l.default.createElement("div",{className:"flow-group-panel-header-title ".concat(t.state.panelVisible[e.groupKey]?"active":"")},l.default.createElement("div",{className:"flow-group-panel-header-icon"},l.default.createElement("span",{className:"fa ".concat(e.groupIcon)})),l.default.createElement("div",{className:"flow-group-panel-header-name"},e.groupName)),l.default.createElement("div",{className:"flow-group-panel-header-drop"},l.default.createElement("span",{className:"fa fa-chevron-right flow-drop-down ".concat(t.state.panelVisible[e.groupKey]?"active":"")}))),l.default.createElement("div",{className:"flow-group-panel-body ".concat(t.state.panelVisible[e.groupKey]?"active":"unactive"),style:{height:"".concat(t.state.panelVisible[e.groupKey]?84*e.nodes.length+"px":"0px")}},e.nodes&&e.nodes.map((function(t,e){return l.default.createElement(d.default,{key:t.nodeType+e,node:t})}))))}))},enumerable:!1,configurable:!0}),e.prototype.render=function(){return l.default.createElement("div",{className:"flow-group"},this.NodePanel)},e}(l.Component);e.default=f},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(41)),a={rect:function(t){return i.default.createElement("div",{className:"panel-node rect"},i.default.createElement("div",{draggable:"true","data-item":JSON.stringify(t),className:"node-item rect",style:{width:100,height:50,backgroundColor:t.fill,border:"2px solid ".concat(t.stroke),borderRadius:4}},t.img&&i.default.createElement("img",{src:t.img,className:"panel-node-rect-icon"})),t.text)},circle:function(t){return i.default.createElement("div",{className:"panel-node circle"},i.default.createElement("div",{draggable:"true","data-item":JSON.stringify(t),className:"node-item circle",style:{width:50,height:50,backgroundColor:t.fill,border:"2px solid ".concat(t.stroke),borderRadius:"50%"}},i.default.createElement("img",{src:t.img,className:"panel-node-rect-icon"})),t.text)},trigon:function(t){var e={inset:{top:"10px 0 0",bottom:"0 0 14px 0",left:"0 0 0 10px",right:"0 20px 8px 0"}[t.position]};return i.default.createElement("div",{className:"panel-node circle"},i.default.createElement("div",{draggable:"true","data-item":JSON.stringify(t),className:"node-item",style:{fontSize:64,color:t.fill,lineHeight:"50px",backgroundColor:"transparent",position:"relative"}},i.default.createElement("img",{src:t.img,className:"panel-node-rect-icon",style:o(o({position:"absolute"},e),{margin:"auto",width:30,height:30})}),{top:"▲",bottom:"▼",left:"◀︎",right:"▶"}[t.position?t.position:"top"]),t.text)},diamond:function(t){return i.default.createElement("div",{className:"panel-node"},i.default.createElement("div",{draggable:"true","data-item":JSON.stringify(t),className:"node-item diamond",style:{width:35,height:35,backgroundColor:t.fill,border:"2px solid ".concat(t.stroke),borderRadius:4}},t.img&&i.default.createElement("img",{src:t.img,className:"panel-node-rect-icon diamond"})),t.text)}};e.default=function(t){var e=t.node;return a[e.thumbnail](e.attrs)}},(t,e,n)=>{var o=n(44),r=n(50);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);var i={insert:"head",singleton:!1};o(r,i);t.exports=r.locals||{}},(t,e,n)=>{(e=n(46)(!1)).push([t.id,".flow-group {\n  font-size: 12px;\n}\n.flow-group .flow-group-panel .flow-group-panel-header {\n  height: 40px;\n  width: 100%;\n  border: 1px solid #c0c0c0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 10px;\n}\n.flow-group .flow-group-panel .flow-group-panel-header .flow-group-panel-header-title {\n  display: flex;\n  align-items: center;\n  color: #504f4f;\n  transition: 0.3s;\n}\n.flow-group .flow-group-panel .flow-group-panel-header .flow-group-panel-header-title.active {\n  color: #007ef5;\n}\n.flow-group .flow-group-panel .flow-group-panel-header .flow-group-panel-header-title .flow-group-panel-header-name {\n  font-size: 14px;\n}\n.flow-group .flow-group-panel .flow-group-panel-header .flow-group-panel-header-title .flow-group-panel-header-icon {\n  font-size: 14px;\n  margin-right: 8px;\n}\n.flow-group .flow-group-panel .flow-group-panel-header .flow-group-panel-header-drop .flow-drop-down {\n  transition: 0.3s;\n}\n.flow-group .flow-group-panel .flow-group-panel-header .flow-group-panel-header-drop .flow-drop-down.active {\n  transform: rotate(90deg);\n  color: #007ef5;\n}\n.flow-group .flow-group-panel .flow-group-panel-body {\n  background-color: #f3f2f2;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  transition: 0.3s ease;\n  overflow: hidden;\n}\n.flow-group .flow-group-panel .flow-group-panel-body.show {\n  display: flex;\n}\n.flow-group .flow-group-panel .flow-group-panel-body.hide {\n  display: none;\n}\n.flow-group .panel-node {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: move;\n  position: relative;\n  flex-flow: column;\n  width: 100%;\n  margin-top: 8px;\n}\n.flow-group .panel-node .node-item {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.flow-group .panel-node .node-item .panel-node-rect-icon {\n  height: 30px;\n  width: 30px;\n  pointer-events: none;\n  border-radius: 50%;\n}\n.flow-group .panel-node .node-item .panel-node-rect-icon.diamond {\n  transform: rotate(-45deg);\n  width: 25px;\n  height: 25px;\n}\n.flow-group .panel-node .node-item.diamond {\n  transform: rotate(45deg);\n  margin-bottom: 10px;\n}\n.flow-group .panel-node + .panel-node {\n  border-top: 1px solid #c0c0c0;\n}\n.flow-group .panel-node + .panel-node .node-item {\n  margin-top: 8px;\n}\n@keyframes GroupHeaderUp {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes GroupHeaderDown {\n  from {\n    opacity: 1;\n  }\n  to {\n    height: 0px;\n    opacity: 0;\n  }\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=function(){function t(t){this._cfgs=(0,r.deepMix)(this.getDefaultCfg(),t)}return t.prototype.getDefaultCfg=function(){return{container:null}},t.prototype.get=function(t){return this._cfgs[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.initPlugin=function(t){var e=this.get("container").querySelectorAll("div[data-item]");(0,r.each)(e,(function(e,n){e.addEventListener("dragstart",(function(n){t.set("addNodeDragging",!0);var r=e.getAttribute("data-item"),i=JSON.parse(r),a=o({nodeType:i.nodeName,offsetX:n.offsetX,offsetY:n.offsetY},i);t.set("addNodeModel",a)})),e.addEventListener("dragend",(function(e){t.emit("canvas:mouseup",e),t.set("addNodeDragging",!1)}))}))},t.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},t}();e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=o(n(53)),a=function(){function t(t){void 0===t&&(t={}),this._cfgs=(0,r.deepMix)(this.getDefaultCfg(),t)}return t.prototype.getDefaultCfg=function(){return{container:null}},t.prototype.get=function(t){return this._cfgs[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.initPlugin=function(t){t.set("MacroCommand",i.default)},t.prototype.destroy=function(){},t}();e.default=a},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.commands={}}return t.prototype.registerCommand=function(t,e){this.commands[t]&&new Error("the ".concat(t," command already exists")),this.commands[t]=e},t.prototype.executeCommand=function(t,e){this.commands[t]&&this.commands[t].execute(e)},t}();e.default=new n},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=["copy","delete"],a=function(){function t(t){this._cfgs=(0,r.deepMix)(this.getDefaultCfg(),t)}return t.prototype.getDefaultCfg=function(){return{container:null}},t.prototype.get=function(t){return this._cfgs[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.initPlugin=function(t){var e=this.get("container"),n=e.querySelectorAll(".xioo-work-header .xioo-work-header-group div[data-command]");(0,r.each)(n,(function(e){var n=e.getAttribute("data-command"),r=e.getAttribute("data-params");r=r?JSON.parse(r):{},e.addEventListener("click",(function(){var e=t.get("MacroCommand");e&&e.executeCommand(n,o({graph:t},r))}))})),t.on("onSelectNode",(function(t){i.forEach((function(t){e.querySelector(".xioo-work-header .xioo-work-header-group div[data-command='".concat(t,"']")).classList.add("actionable")}))})),t.on("onClearSelectNode",(function(){i.forEach((function(t){e.querySelector(".xioo-work-header .xioo-work-header-group div[data-command='".concat(t,"']")).classList.remove("actionable")}))}))},t.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},t}();e.default=a},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(53)),i=o(n(56)),a=o(n(57)),s=o(n(58)),u=o(n(59)),c=o(n(60)),l=o(n(61)),d=o(n(62)),f=o(n(63)),h=o(n(64)),p=o(n(65)),g=o(n(66));e.default=function(t){void 0===t&&(t=[]),r.default.registerCommand("reload",new i.default),r.default.registerCommand("copy",new a.default),r.default.registerCommand("delete",new s.default),r.default.registerCommand("blow",new u.default),r.default.registerCommand("fitView",new c.default),r.default.registerCommand("originSize",new l.default),r.default.registerCommand("layout",new d.default),r.default.registerCommand("fullScreen",new f.default),r.default.registerCommand("undo",new h.default),r.default.registerCommand("redo",new p.default),r.default.registerCommand("docat",new g.default),t.forEach((function(t){r.default.registerCommand(t.command,new t.CommandObject)}))}},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){t.graph},t}();e.default=n},function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph,o=e.get("selectedItem");if(o){var r=o.get("model"),i=Math.random();e.addItem("node",n(n({},r),{x:r.x+10,y:r.y+10,id:"".concat(i)})),e.paint(),e.get("MacroCommand").executeCommand("docat",{graph:e})}},t}();e.default=o},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph,n=e.get("selectedItem");n&&(e.remove(n),e.set("selectedItem",null),e.emit("onClearSelectNode",null),e.get("MacroCommand").executeCommand("docat",{graph:e}))},t}();e.default=n},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph,n=t.value,o=e.getZoom()+n;e.zoomTo(o)},t}();e.default=n},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){t.graph.fitView(20)},t}();e.default=n},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){t.graph.zoomTo(1)},t}();e.default=n},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){t.graph.layout()},t}();e.default=n},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph,n=t.domId,o=document.getElementById(n),r=o.requestFullScreen||o.webkitRequestFullScreen||o.mozRequestFullScreen||o.msRequestFullScreen;if(void 0!==r&&r)return r.call(o),void e.paint()},t}();e.default=n},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),r=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph,n=e.getUndoStack();if(n&&1!==n.length){var r=n.pop();if(r){var i=r.action;e.pushStack(i,(0,o.clone)(r.data),"redo");var a=r.data.before;if("add"===i&&(a=r.data.after),!a)return;switch(i){case"visible":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(a,!1);break;case"delete":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"add":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){e.removeItem(t.id,!1)}))}));break;case"updateComboTree":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}e.get("MacroCommand").executeCommand("docat",{graph:e})}},t}();e.default=r},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),r=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph,n=e.getRedoStack();if(n&&0!==n.length){var r=n.pop();if(r){var i=r.action,a=r.data.after;if(e.pushStack(i,(0,o.clone)(r.data)),"delete"===i&&(a=r.data.before),!a)return;switch(i){case"visible":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){var n=e.findById(t.id);t.visible?e.showItem(n,!1):e.hideItem(n,!1)}))}));break;case"render":case"update":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){e.updateItem(t.id,t,!1)}))}));break;case"changedata":e.changeData(a,!1);break;case"delete":a.edges&&a.edges.forEach((function(t){e.removeItem(t.id,!1)})),a.nodes&&a.nodes.forEach((function(t){e.removeItem(t.id,!1)})),a.combos&&a.combos.forEach((function(t){e.removeItem(t.id,!1)}));break;case"add":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){var n=t.itemType;delete t.itemType,e.addItem(n,t,!1)}))}));break;case"updateComboTree":Object.keys(a).forEach((function(t){var n=a[t];n&&n.forEach((function(t){e.updateComboTree(t.id,t.parentId,!1)}))}))}}e.get("MacroCommand").executeCommand("docat",{graph:e})}},t}();e.default=r},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.execute=function(t){var e=t.graph;this.operationStyle("undo",e),this.operationStyle("redo",e)},t.prototype.operationStyle=function(t,e){var n=document.querySelector('div[data-command="'.concat(t,'"]'));if("undo"===t){var o=e.getUndoStack();this.addStyle(n,!o||1===o.length)}if("redo"===t){var r=e.getRedoStack();this.addStyle(n,!r||0===r.length)}},t.prototype.addStyle=function(t,e){t&&(e?t.classList.remove("actionable"):t.classList.add("actionable"))},t}();e.default=n},(t,e,n)=>{var o=n(44),r=n(68);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.id,r,""]]);var i={insert:"head",singleton:!1};o(r,i);t.exports=r.locals||{}},(t,e,n)=>{(e=n(46)(!1)).push([t.id,"*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n.xioo-flow {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-flow: column;\n  background-color: #fff;\n}\n.xioo-flow .xioo-flow-header {\n  height: 48px;\n  width: 100%;\n  background-color: #ffffff;\n  border-bottom: 1px solid #e0e0e0;\n  padding: 0px 24px;\n}\n.xioo-flow .xioo-flow-body {\n  display: flex;\n}\n.xioo-flow .xioo-flow-body .xioo-flow-body-node {\n  border-right: 1px solid #e0e0e0;\n  overflow: scroll;\n  height: 100%;\n}\n.xioo-flow .xioo-flow-body .xioo-flow-body-node .xioo-panel-item {\n  width: 100%;\n  height: 50px;\n  background-color: chocolate;\n}\n",""]),t.exports=e},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToolItem=e.ToolGroup=void 0;var r=o(n(70));e.ToolGroup=r.default;var i=o(n(72));e.ToolItem=i.default},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(71));e.default=r.default},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(41)),u=(0,s.memo)((function(t){var e=t.children,n=t.onChange;return s.default.createElement("div",{className:"xioo-work-header-group"},s.default.Children.map(e,(function(t){var e=t.props;return s.default.cloneElement(t,o(o({},e),{onChange:n}))})))}));e.default=u},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(73));e.default=r.default},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,r)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(41)),u=(0,s.memo)((function(t){var e=t.text,n=t.icon,r=t.command,i=t.params,a=t.status,u=void 0===a||a,c=t.event,l=t.onChange,d=(0,s.useState)({}),f=d[0],h=d[1];(0,s.useEffect)((function(){var t={};r&&(t["data-command"]=r),i&&(t["data-params"]=JSON.stringify(i)),h(t)}),["command","params"]);return s.default.createElement("div",o({className:"xioo-work-header-group-icon ".concat(u?"actionable":"")},f,{onClick:function(){l&&l(c)}}),s.default.createElement("span",{className:"operate fa ".concat(n)}),s.default.createElement("span",{className:"icon-text"},e))}));e.default=u}],e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}return n.nc=void 0,n(0)})()));